<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/styles/global.css">
  <link rel="stylesheet" href="/styles/players.css">
  <link rel="stylesheet" href="/styles/homepage.css">
  <title>NBA Fantasy</title>
</head>
<body>
    <%- include("partials/navbar.ejs")%>
</body>

<main class="main-content">
    <!-- Hero Section -->
    <section id="home" class="hero">
        <h1 class="hero-title">Welcome to NBA Fantasy Tracker!</h1>
        <div class="hero-content-wrapper">
            <div class="hero-content">
                <p>
                    Your ultimate platform for real-time updates on your favorite NBA players. 
                    Get the latest game stats, including points scored, positions played, rebounds, assists, 
                    and more. Dive in, track your team, and dominate your league!
                </p>
                <div class="hero-buttons">
                    <a href="/teams" class="btn">Add Players to Watchlist</a>
                    <a href="/games" class="btn">View Games</a>
                </div>
            </div>
            <div class="hero-image">
                <img src="/images/hero-image.jpg" alt="NBA Fantasy Tracker" />
            </div>
        </div>
    </section>

    <div class="content-wrapper">
        <div class="left-sections">
            <!-- My Players Section -->
            <section id="players" class="players-section">
                <h2>My Players</h2>
                <div class="players-list">
                    <div class="player-card">
                        <h3>LeBron James</h3>
                        <p>Points: 27</p>
                        <p>Rebounds: 8</p>
                        <p>Assists: 9</p>
                    </div>
                    <div class="player-card">
                        <h3>Steph Curry</h3>
                        <p>Points: 30</p>
                        <p>Rebounds: 5</p>
                        <p>Assists: 6</p>
                    </div>
                    <div class="player-card">
                        <h3>Kevin Durant</h3>
                        <p>Points: 28</p>
                        <p>Rebounds: 8</p>
                        <p>Assists: 4</p>
                    </div>
                </div>
            </section>

            <!-- Most Common Players Section -->
            <section id="commonplayers" class="common-players-section">
                <h2>Most Common Players</h2>
                <div class="common-players-list">
                    <%- include('./partials/player-card', { players: comPlayers }) %>
                </div>
            </section>
        </div>

        <section id="games" class="games-section">
          <h2>Games</h2>
          <% if (currentGames && currentGames.length) { %>
            <% currentGames.forEach(game => { %>
              <div class="game-card">
                <!-- Top Logos -->
                <div class="logos-container">
                  <!-- Visitor Team Logo -->
                  <div class="team-logo visitor-logo">
                    <img src="<%= game.teams.visitors.logo %>" alt="<%= game.teams.visitors.nickname %> Logo">
                  </div>
        
                  <!-- Home Team Logo -->
                  <div class="team-logo home-logo">
                    <img src="<%= game.teams.home.logo %>" alt="<%= game.teams.home.nickname %> Logo">
                  </div>
                </div>
        
                <!-- Game Details -->
                <div class="game-details">
                  <h4><%= game.teams.visitors.nickname %> vs <%= game.teams.home.nickname %></h4>
                  <% if (game.scores.visitors.points !== null && game.scores.home.points !== null) { %>
                    <p><strong>Score</strong>: <%= game.teams.visitors.nickname %> <%= game.scores.visitors.points %> - <%= game.scores.home.points %> <%= game.teams.home.nickname %></p>
                  <% } %>
        
                  <!-- Game Status -->
                  <% if (game.status.short === 2) { %>
                    <p class="game-status in-progress">In Progress</p>
                  <% } else if (game.status.short === 3) { %>
                    <p class="game-status completed">Completed</p>
                  <% } else if (game.status.short === 1) { %>
                    <p class="game-status upcoming">Upcoming</p>
                  <% } %>
        
                  <p><strong>Arena</strong>: <%= game.arena.name %>, <%= game.arena.city %>, <%= game.arena.state %></p>
                  <% if (game.date.start) { %>
                    <p><strong>Start Time</strong>: <%= new Date(game.date.start).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) %></p>
                  <% } %>
                </div>
              </div>
            <% }) %>
          <% } else { %>
            <p>No games available.</p>
          <% } %>
        </section>
        
  
    </div>
</main>

<%- include("partials/footer.ejs")%>
